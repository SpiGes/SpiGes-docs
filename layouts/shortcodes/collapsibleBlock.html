<!-- collapsible.html -->
{{ $groupId := .Get "groupId" | default ""}}
{{ $class := .Get "class" | default ""}}
{{ $collapsedText := .Get "customCollapsedText" | default (T "click_to_expand") }}  <!-- Fetch collapsedText or use default -->
{{ $expandedText := .Get "customExpandedText" | default (T "click_to_collapse") }}  <!-- Fetch expandedText or use default -->
{{ $tooltipText := .Get "tooltipText" | default ""}}
{{ $tooltipEnabled := .Get "tooltipEnabled" | default false }}
<div class="collapsible-block {{$class}}" 
     group-id="{{$groupId}}"
     collapsed-text="{{$collapsedText}}"
     expanded-text="{{$expandedText}}"
>
    <span>
        {{ if $tooltipEnabled }}
            {{ with $tooltipText }}
                <i class="collapsible-block__icon fas" data-bs-toggle="tooltip" data-bs-placement="top" title="{{$tooltipText}}"></i>
            {{ else }}
                <i class="collapsible-block__icon fas" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ T "click_to_expand_collapse" }}"></i>
            {{ end }}
        {{ else }}
            <i class="collapsible-block__icon fas"></i>
        {{ end }}
        <button type="button" class="collapsible-block__button"></button>
    </span>
    
    <div class="collapsible-block__content">
        {{ .Inner | markdownify }}
    </div>
</div>
    